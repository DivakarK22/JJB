- defaults:
    name: global
    description: 'Managed by jenkins-job-builder - do not edit via web interface. See git@stash:tech/jenkins.git'
    project-type: freestyle
    concurrent: false
    node: Ansible(deploy)
    views:
      - project-view
    logrotate:
      daysToKeep: 1
      numToKeep: 5
- job:
    name: git-repos-update
    defaults: global
    builders:
      - shell: "ansible-playbook /root/git/ansible-playbooks/jenkins-playbooks/git-repo-update-all.yml"
   # triggers:
    #  - timed: "* * * * *"
- job:
    name: repos-update
    defaults: global
    builders:
      - shell: "ansible-playbook /root/git/ansible-playbooks/jenkins-playbooks/repo-update.yaml"
 #   triggers:
 #    - timed: "* * * * *"
- job:
    name: salt-highstate
    defaults: global
    builders:
      - shell: "ansible-playbook /root/git/ansible-playbooks/jenkins-playbooks/salt-update.yaml"
    triggers:
      - reverse:
          jobs: hooks-jenkins-salt
          result: 'success'
- job:
    name: hooks-jenkins-salt
    defaults: global
    node: Ansible(deploy)
    builders:
      - shell: "ansible-playbook /root/git/ansible-playbooks/jenkins-playbooks/salt-repo.yaml"
    scm:
      - git:
          url: https://github.com/DivakarK22/salt.git 
          branches:
            - master
    triggers:
      - pollscm:
          cron: "* * * * *"
- job:
    name: stress-test
    defaults: global
    builders:
      - shell: "ansible-playbook  /root/git/ansible-playbooks/jenkins-playbooks/stress.yaml"
- job:
    name: hooks-jenkins
    defaults: global
    node: Ansible(deploy)
    builders:
      - shell: "ansible-playbook  /root/git/ansible-playbooks/jenkins-playbooks/jenkins-hooks.yml"
    scm:
      - git:
          url: https://github.com/DivakarK22/jenkins-job-builder.git
          branches:
            - main
    triggers:
      - pollscm:
          cron: "* * * * *"
- job:
    name: hooks-sensu
    defaults: global
    node: Ansible(deploy)
    builders:
      - shell: "ansible-playbook  /root/git/ansible-playbooks/jenkins-playbooks/restart-sensu.yml"
    scm:
      - git:
          url: https://github.com/DivakarK22/salt.git 
          branches:
            - master
    triggers:
      - reverse:
          jobs: salt-highstate